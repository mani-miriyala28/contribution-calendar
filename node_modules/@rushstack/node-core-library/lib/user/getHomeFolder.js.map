{"version":3,"file":"getHomeFolder.js","sourceRoot":"","sources":["../../src/user/getHomeFolder.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAa3D,sCAoBC;AA/BD,gDAAkC;AAElC,8CAA2C;AAE3C,IAAI,iBAAqC,CAAC;AAE1C;;;;GAIG;AACH,SAAgB,aAAa;IAC3B,IAAI,iBAAiB,KAAK,SAAS,EAAE,CAAC;QACpC,OAAO,iBAAiB,CAAC;IAC3B,CAAC;IAED,MAAM,oBAAoB,GACxB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,OAAO,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;IACrE,MAAM,QAAQ,GAAW,uDAAuD,CAAC;IACjF,IAAI,oBAAoB,KAAK,SAAS,EAAE,CAAC;QACvC,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5B,CAAC;IAED,MAAM,UAAU,GAAW,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;IAC9D,IAAI,CAAC,uBAAU,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC;QACnC,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC5B,CAAC;IAED,iBAAiB,GAAG,UAAU,CAAC;IAE/B,OAAO,UAAU,CAAC;AACpB,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n// See LICENSE in the project root for license information.\n\nimport * as path from 'node:path';\n\nimport { FileSystem } from '../FileSystem';\n\nlet _cachedHomeFolder: string | undefined;\n\n/**\n * Returns the current user's home folder path.\n * Throws if it cannot be determined. Successful results are cached.\n * @public\n */\nexport function getHomeFolder(): string {\n  if (_cachedHomeFolder !== undefined) {\n    return _cachedHomeFolder;\n  }\n\n  const unresolvedUserFolder: string | undefined =\n    process.env[process.platform === 'win32' ? 'USERPROFILE' : 'HOME'];\n  const dirError: string = \"Unable to determine the current user's home directory\";\n  if (unresolvedUserFolder === undefined) {\n    throw new Error(dirError);\n  }\n\n  const homeFolder: string = path.resolve(unresolvedUserFolder);\n  if (!FileSystem.exists(homeFolder)) {\n    throw new Error(dirError);\n  }\n\n  _cachedHomeFolder = homeFolder;\n\n  return homeFolder;\n}\n"]}